import React, { useState } from 'react';
import { Code, Zap, Box, GitBranch, Brain, ChevronRight } from 'lucide-react';

export default function ParadigmExplorer() {
  const [selectedParadigm, setSelectedParadigm] = useState(null);
  const [activeExample, setActiveExample] = useState('procedural');

  const paradigms = [
    {
      id: 'procedural',
      name: 'Procedural',
      icon: <Zap className="w-8 h-8" />,
      color: 'from-blue-500 to-cyan-500',
      bgColor: 'bg-blue-500/10',
      borderColor: 'border-blue-500',
      description: 'Passo a passo, como uma receita',
      match: '90%',
      pros: ['F√°cil de entender', 'Controle total', 'Debugging simples'],
      cons: ['Pode ficar repetitivo', 'Dif√≠cil de escalar'],
      useCase: 'Scripts, automa√ß√µes, pequenos projetos',
      example: `// SEU ESTILO ATUAL!
function showAlert() {
  const alert = document.getElementById('alert');
  alert.style.display = 'flex';
  setTimeout(() => closeAlert(), 4000);
}

function closeAlert() {
  document.getElementById('alert').style.display = 'none';
}

// Executa passo a passo
showAlert();`
    },
    {
      id: 'oop',
      name: 'Orientado a Objetos',
      icon: <Box className="w-8 h-8" />,
      color: 'from-purple-500 to-pink-500',
      bgColor: 'bg-purple-500/10',
      borderColor: 'border-purple-500',
      description: 'Objetos que interagem entre si',
      match: '70%',
      pros: ['C√≥digo reutiliz√°vel', 'Organizado', 'F√°cil manuten√ß√£o'],
      cons: ['Mais complexo', 'Curva de aprendizado'],
      useCase: 'Apps grandes, sistemas complexos',
      example: `// Como seria seu c√≥digo em OOP
class Alert {
  constructor(elementId) {
    this.element = document.getElementById(elementId);
    this.duration = 4000;
  }
  
  show() {
    this.element.style.display = 'flex';
    setTimeout(() => this.close(), this.duration);
  }
  
  close() {
    this.element.style.display = 'none';
  }
}

const myAlert = new Alert('alert');
myAlert.show();`
    },
    {
      id: 'functional',
      name: 'Funcional',
      icon: <GitBranch className="w-8 h-8" />,
      color: 'from-green-500 to-emerald-500',
      bgColor: 'bg-green-500/10',
      borderColor: 'border-green-500',
      description: 'Fun√ß√µes puras, sem efeitos colaterais',
      match: '50%',
      pros: ['Previs√≠vel', 'Test√°vel', 'Sem bugs surpresa'],
      cons: ['Dif√≠cil no in√≠cio', 'Menos intuitivo'],
      useCase: 'Data processing, React/Redux',
      example: `// Estilo funcional
const createAlert = (element) => ({
  show: (duration = 4000) => {
    element.style.display = 'flex';
    return setTimeout(() => element.style.display = 'none', duration);
  }
});

// Fun√ß√µes puras - mesmo input, mesmo output
const alert = createAlert(document.getElementById('alert'));
alert.show();`
    },
    {
      id: 'hybrid',
      name: 'H√≠brido (Multiparadigma)',
      icon: <Brain className="w-8 h-8" />,
      color: 'from-orange-500 to-red-500',
      bgColor: 'bg-orange-500/10',
      borderColor: 'border-orange-500',
      description: 'Mistura o melhor de cada mundo',
      match: '85%',
      pros: ['Flex√≠vel', 'Pr√°tico', 'Use o que funciona'],
      cons: ['Precisa conhecer v√°rios', 'Pode ficar inconsistente'],
      useCase: 'A maioria dos projetos reais!',
      example: `// Voc√™ J√Å usa h√≠brido! Mix de procedural + OOP
// Procedural
function handleSubmit(event) {
  event.preventDefault();
  openModal(); // <- fun√ß√£o procedural
  event.target.reset();
}

// OOP (DOM √© orientado a objetos!)
document.querySelectorAll('.nav-link').forEach(link => {
  link.addEventListener('click', scrollToSection);
});

// Isso √© NORMAL e √ìTIMO!`
    }
  ];

  const recommendations = [
    {
      title: 'Para seu portf√≥lio atual',
      advice: 'Continue com Procedural + OOP b√°sico. Est√° perfeito!',
      icon: '‚úÖ'
    },
    {
      title: 'Pr√≥ximo passo',
      advice: 'Aprenda OOP (classes JavaScript) para projetos maiores',
      icon: 'üöÄ'
    },
    {
      title: 'Dica pro',
      advice: 'Seu c√≥digo est√° limpo! Adicione coment√°rios e use const/let sempre',
      icon: 'üí°'
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white p-4 sm:p-8">
      <div className="max-w-6xl mx-auto">
        {/* Header */}
        <div className="text-center mb-12">
          <h1 className="text-4xl sm:text-6xl font-bold mb-4 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
            Qual seu Paradigma?
          </h1>
          <p className="text-lg sm:text-xl text-slate-300">
            Descubra qual estilo de programa√ß√£o combina com voc√™
          </p>
        </div>

        {/* Analysis Badge */}
        <div className="bg-green-500/20 border-2 border-green-500 rounded-xl p-6 mb-8 text-center">
          <div className="text-green-400 font-bold text-xl mb-2">‚ú® An√°lise do seu c√≥digo conclu√≠da!</div>
          <p className="text-slate-300">
            Identifiquei <span className="text-green-400 font-bold">Procedural H√≠brido</span> - voc√™ est√° no caminho certo!
          </p>
        </div>

        {/* Paradigm Cards */}
        <div className="grid md:grid-cols-2 gap-6 mb-12">
          {paradigms.map((paradigm) => (
            <div
              key={paradigm.id}
              onClick={() => setSelectedParadigm(paradigm.id === selectedParadigm ? null : paradigm.id)}
              className={`${paradigm.bgColor} border-2 ${paradigm.borderColor} rounded-xl p-6 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-2xl ${
                selectedParadigm === paradigm.id ? 'ring-4 ring-white/50' : ''
              }`}
            >
              <div className="flex items-start justify-between mb-4">
                <div className={`bg-gradient-to-br ${paradigm.color} p-3 rounded-lg`}>
                  {paradigm.icon}
                </div>
                <div className="text-right">
                  <div className="text-sm text-slate-400">Compatibilidade</div>
                  <div className={`text-2xl font-bold bg-gradient-to-r ${paradigm.color} bg-clip-text text-transparent`}>
                    {paradigm.match}
                  </div>
                </div>
              </div>

              <h3 className="text-2xl font-bold mb-2">{paradigm.name}</h3>
              <p className="text-slate-300 mb-4">{paradigm.description}</p>

              {selectedParadigm === paradigm.id && (
                <div className="mt-6 space-y-4 animate-in fade-in duration-300">
                  <div>
                    <h4 className="font-semibold text-green-400 mb-2 flex items-center gap-2">
                      <span>‚úì</span> Vantagens
                    </h4>
                    <ul className="space-y-1 text-sm text-slate-300">
                      {paradigm.pros.map((pro, i) => (
                        <li key={i} className="flex items-center gap-2">
                          <ChevronRight className="w-4 h-4 text-green-400" />
                          {pro}
                        </li>
                      ))}
                    </ul>
                  </div>

                  <div>
                    <h4 className="font-semibold text-orange-400 mb-2 flex items-center gap-2">
                      <span>!</span> Desvantagens
                    </h4>
                    <ul className="space-y-1 text-sm text-slate-300">
                      {paradigm.cons.map((con, i) => (
                        <li key={i} className="flex items-center gap-2">
                          <ChevronRight className="w-4 h-4 text-orange-400" />
                          {con}
                        </li>
                      ))}
                    </ul>
                  </div>

                  <div className="bg-slate-900/50 rounded-lg p-3">
                    <div className="text-xs text-slate-400 mb-1">Melhor para:</div>
                    <div className="text-sm font-semibold text-purple-300">{paradigm.useCase}</div>
                  </div>
                </div>
              )}
            </div>
          ))}
        </div>

        {/* Code Examples */}
        <div className="bg-slate-800/50 border-2 border-slate-700 rounded-xl p-6 mb-12">
          <h2 className="text-2xl font-bold mb-6 flex items-center gap-3">
            <Code className="w-6 h-6 text-purple-400" />
            Compare os Estilos
          </h2>

          <div className="flex flex-wrap gap-2 mb-4">
            {paradigms.map((p) => (
              <button
                key={p.id}
                onClick={() => setActiveExample(p.id)}
                className={`px-4 py-2 rounded-lg font-semibold transition-all ${
                  activeExample === p.id
                    ? `bg-gradient-to-r ${p.color} text-white`
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                {p.name}
              </button>
            ))}
          </div>

          <pre className="bg-slate-900 rounded-lg p-4 overflow-x-auto text-sm">
            <code className="text-green-400">
              {paradigms.find(p => p.id === activeExample)?.example}
            </code>
          </pre>
        </div>

        {/* Recommendations */}
        <div className="bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-2 border-purple-500 rounded-xl p-6">
          <h2 className="text-2xl font-bold mb-6 text-center">
            üìö Recomenda√ß√µes Personalizadas
          </h2>
          <div className="grid sm:grid-cols-3 gap-4">
            {recommendations.map((rec, i) => (
              <div key={i} className="bg-slate-800/50 rounded-lg p-4 text-center">
                <div className="text-3xl mb-2">{rec.icon}</div>
                <h3 className="font-bold text-purple-300 mb-2">{rec.title}</h3>
                <p className="text-sm text-slate-300">{rec.advice}</p>
              </div>
            ))}
          </div>
        </div>

        {/* Footer */}
        <div className="text-center mt-12 text-slate-400 text-sm">
          <p>üí° Dica: A maioria dos devs usa <strong className="text-purple-400">H√≠brido</strong> no dia a dia!</p>
          <p className="mt-2">Seu c√≥digo j√° est√° excelente. Continue praticando! üöÄ</p>
        </div>
      </div>
    </div>
  );
}
